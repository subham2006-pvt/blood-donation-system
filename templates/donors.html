{% extends 'base.html' %}

{% block content %}

<!-- üî¥ Hero Header -->
<div class="p-4 mb-4 rounded-4 bg-danger text-white text-center shadow">
  <h2 class="fw-bold">ü©∏ Donor Registration</h2>
  <p class="mb-0">
    One form. One decision. Many lives saved.
  </p>
</div>

<!-- üßæ Form Card -->
<div class="card shadow-lg border-0 rounded-4">
  <div class="card-body p-4">

    <form method="post">
      {% csrf_token %}

      <!-- üë§ Personal Info -->
      <h5 class="text-danger mb-3">üë§ Personal Details</h5>
      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label">Full Name</label>
          <input type="text" name="name"
                 class="form-control rounded-pill"
                 placeholder="Enter full name" required>
        </div>

        <div class="col-md-3 mb-3">
          <label class="form-label">Age</label>
          <input type="number" name="age"
                 class="form-control rounded-pill" required>
        </div>

        <div class="col-md-3 mb-3">
          <label class="form-label">Gender</label>
          <select name="gender"
                  class="form-select rounded-pill" required>
            <option value="">Select</option>
            <option>Male</option>
            <option>Female</option>
            <option>Other</option>
          </select>
        </div>
      </div>

      <!-- üìû Contact -->
      <h5 class="text-danger mt-4 mb-3">üìû Contact Details</h5>
      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label">Phone Number</label>
          <input type="text" name="phone"
                 class="form-control rounded-pill"
                 placeholder="10-digit mobile number" required>
        </div>

        <div class="col-md-6 mb-3">
          <label class="form-label">City</label>
          <input type="text" name="city"
                 class="form-control rounded-pill"
                 placeholder="Enter city" required>
        </div>
      </div>

      <!-- ü©∏ Blood Info -->
      <h5 class="text-danger mt-4 mb-3">ü©∏ Blood Information</h5>
      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label">Blood Group</label>
          <select name="blood_group"
                  class="form-select rounded-pill" required>
            <option value="">Select</option>
            <option>A+</option><option>A-</option>
            <option>B+</option><option>B-</option>
            <option>O+</option><option>O-</option>
            <option>AB+</option><option>AB-</option>
          </select>
        </div>

        <div class="col-md-6 mb-3">
          <label class="form-label">Last Donation Date</label>
          <input type="date" name="last_donation"
                 class="form-control rounded-pill">
        </div>
      </div>

      <!-- ‚ù§Ô∏è Motivation -->
      <div class="alert alert-light border mt-4">
        ‚ù§Ô∏è <strong>Did you know?</strong><br>
        A single blood donation can save up to three lives.
      </div>

      <!-- üöÄ Submit -->
      <div class="d-grid mt-4">
        <button type="submit"
                class="btn btn-danger btn-lg rounded-pill shadow">
          Register as Donor
        </button>
      </div>

    </form>
  </div>
</div>

<hr class="my-5">

<!-- üìã Donors Table -->
<h4 class="text-danger mb-3">ü©∏ Registered Donors</h4>

<div class="table-responsive">
  <table class="table table-bordered table-hover align-middle shadow-sm">
    <thead class="table-danger">
      <tr>
        <th>Name</th>
        <th>Age</th>
        <th>Gender</th>
        <th>City</th>
        <th>Phone</th>
        <th>Blood Group</th>
        <th>Last Donation</th>
      </tr>
    </thead>
    <tbody>
      {% for d in donors %}
      <tr>
        <td>{{ d.name }}</td>
        <td>{{ d.age }}</td>
        <td>{{ d.gender }}</td>
        <td>{{ d.city }}</td>
        <td>{{ d.phone }}</td>
        <td>
          <span class="badge bg-danger">
            {{ d.blood_group }}
          </span>
        </td>
        <td>
          {{ d.last_donation|default:"‚Äî" }}
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="7" class="text-center text-muted">
          No donors registered yet.
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
